<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Spin Kelompok Ekstra TIK SDN Karangtejo</title>

<style>

body{
  font-family: Arial, sans-serif;
  background:#f0f8ff;
  text-align:center;
  padding:20px;
}

h1{
  color:#2c3e50;
}

.container{
  display:flex;
  justify-content:center;
  gap:40px;
  margin-top:30px;
}

/* AREA SPIN */
.spin-area{
  width:300px;
}

#wheel{
  width:250px;
  height:250px;
  border:10px solid #333;
  border-radius:50%;
  margin:auto;
  background:conic-gradient(
    #ff7675 0% 10%,
    #74b9ff 10% 20%,
    #55efc4 20% 30%,
    #ffeaa7 30% 40%,
    #fd79a8 40% 50%,
    #81ecec 50% 60%,
    #fab1a0 60% 70%,
    #a29bfe 70% 80%,
    #fdcb6e 80% 90%,
    #00cec9 90% 100%
  );
  transition:transform 4s ease-out;
}

button{
  margin-top:20px;
  padding:10px 25px;
  font-size:16px;
  background:#0984e3;
  color:white;
  border:none;
  border-radius:5px;
  cursor:pointer;
}

button:hover{
  background:#74b9ff;
}

#result{
  font-size:18px;
  margin-top:15px;
  font-weight:bold;
}

/* AREA DATA */
.list-area{
  width:320px;
  background:white;
  padding:15px;
  border-radius:10px;
  box-shadow:0 0 5px #aaa;
  text-align:left;
}

.list-area h3{
  text-align:center;
}

ul{
  padding-left:20px;
}

</style>
</head>

<body>

<h1>ðŸŽ¯ Spin Kelompok Ekstra TIK SDN Karangtejo</h1>

<div class="container">

<!-- SPIN -->
<div class="spin-area">

  <div id="wheel"></div>

  <button onclick="spin()">SPIN</button>

  <p id="result">Silakan mulai spin ðŸ˜Š</p>

</div>

<!-- DATA -->
<div class="list-area" id="listArea">

<h3>Data Kelompok</h3>
<p>Belum ada yang terpilih</p>

</div>

</div>


<!-- SOUND -->
<audio id="spinSound">
  <source src="https://www.soundjay.com/mechanical/sounds/clock-ticking-1.mp3" type="audio/mpeg">
</audio>

<audio id="winSound">
  <source src="https://www.soundjay.com/button/sounds/button-09.mp3" type="audio/mpeg">
</audio>


<script>

// DATA KELOMPOK
const kelompokData = {
  "Kelompok 1":["ALDEVARO","HISYAM","ZULVIA"],
  "Kelompok 2":["ROHMAD","ALI","NITYA"],
  "Kelompok 3":["MUAMMAR","ALZAM","ALESHA"],
  "Kelompok 4":["WAFA","MALKAN","AZKIA"],
  "Kelompok 5":["NAUVAL","RIZQI","LEVINA"],
  "Kelompok 6":["RAFLI","NATHANAEL","RHADESKA"],
  "Kelompok 7":["ARDAN","NIZAM","NAILA"],
  "Kelompok 8":["ARU","PANDINI","SEFIA"],
  "Kelompok 9":["EGA","AQILLA","ZAHROTUL"],
  "Kelompok 10":["GIBRAN","KHANZA","ZUKY"]
};

// DAFTAR KELOMPOK
let daftarKelompok = Object.keys(kelompokData);

// YANG SUDAH KELUAR
let sudahKeluar = [];

// SPIN
function spin(){

  if(daftarKelompok.length === 0){
    alert("Semua kelompok sudah keluar!\nRefresh untuk ulang.");
    return;
  }

  const wheel = document.getElementById("wheel");
  const spinSound = document.getElementById("spinSound");
  const winSound = document.getElementById("winSound");

  spinSound.play();

  let putar = 3600 + Math.random()*1000;

  wheel.style.transform = "rotate("+putar+"deg)";

  setTimeout(()=>{

    spinSound.pause();
    spinSound.currentTime = 0;

    winSound.play();

    let index = Math.floor(Math.random()*daftarKelompok.length);

    let hasil = daftarKelompok[index];

    // HAPUS YANG SUDAH KELUAR
    daftarKelompok.splice(index,1);

    sudahKeluar.push(hasil);

    tampilkanHasil(hasil);
    tampilkanDaftar();

  },4000);

}


// TAMPILKAN HASIL
function tampilkanHasil(kelompok){

  document.getElementById("result").innerText =
  "ðŸŽ‰ Terpilih: "+kelompok;

}


// TAMPILKAN DATA
function tampilkanDaftar(){

  const area = document.getElementById("listArea");

  let html = "<h3>Sudah Terpilih</h3>";

  sudahKeluar.forEach(k=>{

    html += "<b>"+k+"</b><ul>";

    kelompokData[k].forEach(nama=>{
      html += "<li>"+nama+"</li>";
    });

    html += "</ul>";

  });

  area.innerHTML = html;
}

</script>

</body>
</html>
